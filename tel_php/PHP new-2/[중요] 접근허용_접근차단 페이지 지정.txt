[ì¤‘ìš”] ì ‘ê·¼í—ˆìš©_ì ‘ê·¼ì°¨ë‹¨ í˜ì´ì§€ ì§€ì •ë˜ì–´ìˆë‹¤.  

ğŸ“‹ í˜ì´ì§€ ë¶„ë¥˜

âœ… ì ‘ê·¼ ì°¨ë‹¨ í•„ìš” (ê´€ë¦¬ìë§Œ)

admin_member.php
account_edit.php
account_input.php
images_edit.php
images_upload.php

ğŸŒ ê³µê°œ (ëˆ„êµ¬ë‚˜ ì ‘ê·¼)

login.php (ì•„ë¬´ë‚˜ ì ‘ê·¼ê°€ëŠ¥)
signup.php  ===> ì—¬ê¸°ì„œ ê´€ë¦¬ìë¡œ ë“±ë¡(level=10)
account_view.php
images_view.php


## ğŸ“Š ì „ì²´ íŒŒì¼ êµ¬ì¡°
```
C:\xampp\htdocs\New_PHP\
â”‚
â”œâ”€ php/
â”‚  â”œâ”€ auth_check.php         âœ… ê¶Œí•œ ì²´í¬ ê³µí†µ íŒŒì¼
â”‚  â””â”€ db-connect.php
â”‚
â”œâ”€ login.php                 ğŸŒ ê³µê°œ (ëˆ„êµ¬ë‚˜ ì ‘ê·¼)
â”œâ”€ signup.php                ğŸŒ ê³µê°œ
â”‚
â”œâ”€ account_view.php          ğŸŒ ê³µê°œ (ì¡°íšŒë§Œ)
â”œâ”€ account_input.php         ğŸ”’ ê´€ë¦¬ìë§Œ â† require 'php/auth_check.php';
â”œâ”€ account_edit.php          ğŸ”’ ê´€ë¦¬ìë§Œ â† require 'php/auth_check.php';
â”‚
â”œâ”€ images_view.php           ğŸŒ ê³µê°œ (ì¡°íšŒë§Œ)
â”œâ”€ images_upload.php         ğŸ”’ ê´€ë¦¬ìë§Œ â† require 'php/auth_check.php';
â”œâ”€ images_edit.php           ğŸ”’ ê´€ë¦¬ìë§Œ â† require 'php/auth_check.php';
â”œâ”€ images_replace.php        ğŸ”’ ê´€ë¦¬ìë§Œ â† require 'php/auth_check.php';
â”‚
â””â”€ admin_member.php          ğŸ”’ ê´€ë¦¬ìë§Œ â† require 'php/auth_check.php';
```



<?php

// auth_check.php - ê´€ë¦¬ì ì¸ì¦ ì²´í¬ ê³µí†µ íŒŒì¼

// ì„¸ì…˜ ì‹œì‘ (ì´ë¯¸ ì‹œì‘ë˜ì—ˆëŠ”ì§€ í™•ì¸)
if (session_status() === PHP_SESSION_NONE) {
    session_start();
}

// ë¡œê·¸ì¸ ì—¬ë¶€ í™•ì¸
if (!isset($_SESSION['user_id']) || empty($_SESSION['user_id'])) {
    // ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê²½ìš°
    $_SESSION['redirect_url'] = $_SERVER['REQUEST_URI']; // í˜„ì¬ í˜ì´ì§€ URL ì €ì¥
    
    echo "<script>
        alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
        location.href='./login.php';
    </script>";
    exit;
}

// ê´€ë¦¬ì ê¶Œí•œ í™•ì¸ (level 10 ì´ìƒ)
if (!isset($_SESSION['user_level']) || $_SESSION['user_level'] < 10) {
    echo "<script>
        alert('ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ìë§Œ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.');
        history.back();
    </script>";
    exit;
}

// ë””ë²„ê¹…ìš© (í…ŒìŠ¤íŠ¸ í›„ ì‚­ì œ ê°€ëŠ¥)
// echo "<!-- ì¸ì¦ í†µê³¼: " . $_SESSION['user_name'] . " (Level: " . $_SESSION['user_level'] . ") -->";
?>
```

---

---

## ğŸ¯ ì‘ë™ ì‹œë‚˜ë¦¬ì˜¤

### **ì‹œë‚˜ë¦¬ì˜¤ 1: ë¹„ë¡œê·¸ì¸ ì‚¬ìš©ì**
```
1. account_input.php ì§ì ‘ ì ‘ê·¼
   â†“
2. auth_check.php ì‹¤í–‰
   â†“
3. ì„¸ì…˜ í™•ì¸ â†’ ì—†ìŒ
   â†“
4. "ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤" ì•Œë¦¼
   â†“
5. login.phpë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
   â†“
6. ë¡œê·¸ì¸ ì„±ê³µ
   â†“
7. ì›ë˜ ê°€ë ¤ë˜ account_input.phpë¡œ ë³µê·€ âœ…
```

### **ì‹œë‚˜ë¦¬ì˜¤ 2: ì¼ë°˜ íšŒì› (level < 10)**
```
1. ë¡œê·¸ì¸ ì„±ê³µ (level = 2)
   â†“
2. account_input.php ì ‘ê·¼ ì‹œë„
   â†“
3. auth_check.php ì‹¤í–‰
   â†“
4. ê¶Œí•œ í™•ì¸ â†’ level 2 (ë¶€ì¡±)
   â†“
5. "ê´€ë¦¬ìë§Œ ì´ìš© ê°€ëŠ¥" ì•Œë¦¼
   â†“
6. ì´ì „ í˜ì´ì§€ë¡œ ë³µê·€ (history.back)
```

### **ì‹œë‚˜ë¦¬ì˜¤ 3: ê´€ë¦¬ì (level = 10)**
```
1. ë¡œê·¸ì¸ ì„±ê³µ (level = 10)
   â†“
2. account_input.php ì ‘ê·¼
   â†“
3. auth_check.php ì‹¤í–‰
   â†“
4. ê¶Œí•œ í™•ì¸ â†’ level 10 âœ…
   â†“
5. í˜ì´ì§€ ì •ìƒ í‘œì‹œ
```

### **ì‹œë‚˜ë¦¬ì˜¤ 4: ê³µê°œ í˜ì´ì§€**
```
1. account_view.php ì ‘ê·¼
   â†“
2. auth_check.php ì—†ìŒ
   â†“
3. ëˆ„êµ¬ë‚˜ ì ‘ê·¼ ê°€ëŠ¥ âœ…

===================================================
===================================================


â–¶â–¶â–¶  ë¬´ì¡°ê±´ phpì½”ë“œì•ˆì˜ ì œì¼ ìƒë‹¨ìœ„ì— ì‚½ì…í•´ì•¼í•©ë‹ˆë‹¤.

<?php
require 'php/auth_check.php'; // â† ì¶”ê°€
require 'php/db-connect.php';
date_default_timezone_set('Asia/Seoul');

// ... ë‚˜ë¨¸ì§€ ì½”ë“œ


===================================================


â–¶â–¶â–¶ [ì¤‘ìš”]  ì‹œì‘í˜ì´ì§€ì¸ login.php ë¡œê·¸ì¸ í˜ì´ì§€ì™€
signup.php íšŒì›ê°€ì… í˜ì´ì§€ëŠ” ì•„ë˜ì½”ë“œë§Œ ë“¤ì–´ê°€ë©´ëœë‹¤.

session_start();  // â† ë¡œê·¸ì¸ í˜ì´ì§€ëŠ” ì§ì ‘ ì„¸ì…˜ ì‹œì‘!
require_once './php/db-connect.php'; // DB ì—°ê²°

===================================================

ğŸ“‹ ì „ì²´ ìš”ì•½
íŒŒì¼				session_start()		auth_check.php		db-connect.php	
login.php			âœ… ì§ì ‘ ì‘ì„±		âŒ ì‚¬ìš© ì•ˆ í•¨		âœ… í•„ìš”
signup.php			âœ… ì§ì ‘ ì‘ì„±		âŒ ì‚¬ìš© ì•ˆ í•¨		âœ… í•„ìš”
account_view.php	âŒ ë¶ˆí•„ìš”			âŒ ì‚¬ìš© ì•ˆ í•¨		âœ… í•„ìš”
images_view.php		âŒ ë¶ˆí•„ìš”			âŒ ì‚¬ìš© ì•ˆ í•¨		âœ… í•„ìš”
account_input.php	âŒ ë¶ˆí•„ìš”			âœ… í•„ìˆ˜!			âœ… í•„ìš”
account_edit.php		âŒ ë¶ˆí•„ìš”			âœ… í•„ìˆ˜!			âœ… í•„ìš”
images_upload.php	âŒ ë¶ˆí•„ìš”			âœ… í•„ìˆ˜!			âœ… í•„ìš”
images_edit.php		âŒ ë¶ˆí•„ìš”			âœ… í•„ìˆ˜!			âœ… í•„ìš”
admin_member.php	âŒ ë¶ˆí•„ìš”			âœ… í•„ìˆ˜!			âœ… í•„ìš”

ê²°ë¡ : login.php, signup.phpëŠ” session_start()ì™€ db-connect.phpë§Œ ìˆìœ¼ë©´ ë©ë‹ˆë‹¤! âœ… ğŸ˜Š
















