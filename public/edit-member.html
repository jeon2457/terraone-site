<!-- 데이타수정후 컴퓨터에서 직접 확인해보려면 도스프롬프트에서 firebase emulators:start 실행 -->
<!-- 브라우저에서 ex)  http://127.0.0.1:5000/login.html -->

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>회원수정</title>

  <!-- 파비콘 -->
  <link rel="icon" href="./favicons/favicon.png?v=2" />
  <link rel="icon" type="image/png" sizes="36x36" href="./favicons/android-icon-36x36.png" />
  <link rel="icon" type="image/png" sizes="48x48" href="./favicons/android-icon-48x48.png" />
  <link rel="icon" type="image/png" sizes="72x72" href="./favicons/android-icon-72x72.png" />
  <link rel="apple-touch-icon" sizes="32x32" href="./favicons/apple-icon-32x32.png">
  <link rel="apple-touch-icon" sizes="57x57" href="./favicons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="./favicons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="./favicons/apple-icon-72x72.png">


  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- 사용자 정의 CSS -->
  <link rel="stylesheet" href="./css_firebase/edit-member.css">

  <script type="module" src="./js/edit-member.js" defer></script>
  <style>
    .btn-back {
      display: block;
      width: 200px;
      margin: 30px auto 20px auto;
      padding: 12px 20px;
      border-radius: 12px;
      background: #667eea;
      color: #fff;
      font-weight: 700;
      text-align: center;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .btn-back:hover {
      background: #556cd6;
      text-decoration: none;
      color: #fff;
    }
    
  </style>

</head>
<body>
  <div class="container mt-5">
    <h2 class="text-center mb-4">회원 수정</h2>

    <form id="editForm" class="mx-auto" style="max-width: 600px;">
      
      <div class="mb-3">
        <label for="userId" class="form-label">아이디</label>
        <input type="text" class="form-control" id="userId" readonly>
      </div>

      <div class="mb-3">
        <label for="password" class="form-label">비밀번호</label>
        <input type="password" class="form-control" id="password">
        <div class="form-text">※ 비워두면 비밀번호는 변경되지 않습니다.</div>
      </div>

      <div class="mb-3">
        <label for="name" class="form-label">이름</label>
        <input type="text" class="form-control" id="name" required>
      </div>

      <div class="mb-3">
        <label for="tel" class="form-label">전화번호</label>
        <input type="text" class="form-control" id="tel" required placeholder="전화번호는 숫자만 기입하세요">
      </div>

      <div class="mb-3">
        <label for="addr" class="form-label">거주지</label>
        <input type="text" class="form-control" id="addr" placeholder="예): 서울,대전,김천,대구,부산...">
      </div>

      <div class="mb-3">
        <label for="remark" class="form-label">비고(직책)</label>
        <input type="text" class="form-control" id="remark" placeholder="예): 회원, 회장, 총무,대기자 등">
      </div>

      <div class="mb-3">
        <label for="sms" class="form-label">SMS</label>
        <input type="text" class="form-control" id="sms">
      </div>

      <div class="mb-3">
        <label for="sms2" class="form-label">SMS 추가</label>
        <input type="text" class="form-control" id="sms2">
      </div>

      <div class="mb-3">
        <label for="level" class="form-label">레벨</label>
        <select id="level" class="form-select">
          <option value="1">1 (임시회원)</option>
          <option value="2">2 (정회원)</option>
          <option value="10">10 (관리자)</option>
        </select>
      </div>

      <div class="text-center mt-4">
        <button type="submit" class="btn btn-primary me-2">저장</button>
        <a href="members.html" class="btn btn-secondary">취소</a>
      </div>


      <!-- 되돌아가기 Firebase 페이지 -->
        <a href="members.html" class="btn-back">← 되돌아가기</a>

    </form>

    <div id="message" class="mt-3 text-center"></div>
  </div>

  <script>
    const telInput = document.getElementById("tel");
    const smsInput = document.getElementById("sms");

    // 전화번호 자동 포맷 + SMS 자동 입력
    telInput.addEventListener("input", () => {
      // 숫자만 남기기
      let numbers = telInput.value.replace(/\D/g, "");

      // 최대 11자리 제한
      if (numbers.length > 11) {
        numbers = numbers.slice(0, 11);
      }

      // 하이픈 자동 삽입
      let formatted = numbers;
      if (numbers.length >= 4 && numbers.length <= 7) {
        formatted = numbers.replace(/(\d{3})(\d+)/, "$1-$2");
      } else if (numbers.length >= 8) {
        formatted = numbers.replace(/(\d{3})(\d{4})(\d+)/, "$1-$2-$3");
      }

      telInput.value = formatted;

      // SMS 입력칸에 자동 복사
      smsInput.value = formatted;
    });
  </script>


  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js


