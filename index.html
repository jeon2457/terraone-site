<!DOCTYPE html>
<html lang="ko">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="description" content="ÏßÅÏßÄÌô©ÏïÖÌöå35" />
  <title>&#x260E;ÌöåÏõêÏó∞ÎùΩÎßù</title>
  <meta name="format-detection" content="telephone=no" />

  <!-- ÌååÎπÑÏΩò -->
  <link rel="icon" href="./favicons/favicon.png?v=2" />
  <link rel="icon" type="image/png" sizes="36x36" href="./favicons/android-icon-36x36.png" />
  <link rel="icon" type="image/png" sizes="48x48" href="./favicons/android-icon-48x48.png" />
  <link rel="icon" type="image/png" sizes="72x72" href="./favicons/android-icon-72x72.png" />
  <link rel="apple-touch-icon" sizes="32x32" href="./favicons/apple-icon-32x32.png">
  <link rel="apple-touch-icon" sizes="57x57" href="./favicons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="./favicons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="./favicons/apple-icon-72x72.png">


  <!-- Î∂ÄÌä∏Ïä§Ìä∏Îû© CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />


  <!-- =====================
       CSS (ÏõêÎ≥∏ Í∑∏ÎåÄÎ°ú)
       ===================== -->
  <style>
    @charset "utf-8";

    body {
      background: linear-gradient(to right, #232526, #414345);
      margin: 0;
      padding: 3px 0;
      font-family: 'Noto Sans KR', sans-serif;
    }

    a { text-decoration: none !important; }

    /* Ï¥àÍ∏∞ Î°úÎî© ÌôîÎ©¥ */
    #loading-screen {
      position: fixed;
      width: 100%;
      height: 100%;
      background: #363434;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: opacity 0.5s ease;
      z-index: 9999;
    }

    #loading-screen img {
      width: 250px;
    }

    #main-content {
      display: none;
    }

    .container {
      max-width: 700px;
      margin: 0 auto;
      padding: 0;
    }

    /* Ìó§Îçî (ÏãúÍ≥Ñ) */
    .header {
      width: 100%;
      max-width: 700px;
      height: 3.25rem;
      margin: 0 auto;
      text-align: center;
      color: #f4f4f4;
      background-color: rgba(0, 0, 0);
      padding: 0;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #Clockday, #Clock {
      color: #f0c420;
      font-size: 1.7rem;
      display: inline-block;
      margin: 0 5px;
    }

    .header a {
      color: #f0c420;
      text-decoration: none;
    }

    /* Î©îÏù∏ Î∞îÎîî */
    .main-body {
      padding-top: calc(3.25rem + 30px);
    }

    .content-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      margin-top: 0;
    }

    /* ÌÅêÎ∏å Ïª®ÌÖåÏù¥ÎÑà */
    .cube-container {
      /*position: fixed;
      top: calc(3.25rem + 2px);
      left: 10px;
      z-index: 2000;*/
      position: absolute; /* fixed ‚ùå */
      top: 7px;
      left: 10px;
      z-index: 1001;
    }



    .wrap1 {
      width: 25px;
      height: 25px;
      perspective: 500px;
      perspective-origin: center center;
      transform-style: preserve-3d;
      position: relative;
      padding: 0;
    }

    .cube {
      width: 25px;
      height: 25px;
      position: absolute;
      top: 0;          /* ‚úî 0ÏúºÎ°ú Í≥†Ï†ï */
      left: 0;         /* ‚úî 0ÏúºÎ°ú Í≥†Ï†ï */
      transform-style: preserve-3d;
      transform-origin: center center;   /* ‚òÖ ÌïµÏã¨ */
      animation: cubeRotate 3s linear infinite;
    }

    .cube img {
      position: absolute;
      top: 3px;
      left: -3px;
      width: 25px;
      height: 25px;
      backface-visibility: hidden;
      border: none;
      display: block;
      transform-origin: 50% 50% 50%;
    }

    @keyframes cubeRotate {
      from {
        transform: rotateX(0deg);
      }
      to {
        transform: rotateX(360deg);
      }
    }

    .cube {
      animation: cubeRotate 6s infinite linear;
    }


    .cube img:nth-child(1) { transform: translateZ(12.5px); }
    .cube img:nth-child(2) { transform: rotateX(90deg) translateZ(12.5px); }
    .cube img:nth-child(3) { transform: rotateX(180deg) translateZ(12.5px); }
    .cube img:nth-child(4) { transform: rotateX(270deg) translateZ(12.5px); }



    .cube-container,
    .wrap1 {
      overflow: visible;   /* ‚òÖ Ï§ëÏöî */
    }

    /* Ï†ÑÍ¥ëÌåê */
    .wrap2 {
      position: fixed;
      top: 3.25rem;
      left: 0;
      right: 0;
      z-index: 999;
      width: 100%;
      max-width: 700px;
      margin: 0 auto;
      overflow: hidden;
      background-image: url('../image/bg.gif');
      background-color: lightgray;
      background-position: center;
      background-repeat: repeat-x;
      background-size: contain;
      height: 40px;
      display: flex;
      align-items: center;
      padding: 0 103px 0 93px;
      box-sizing: border-box;
    }

    .marquee-container {
      width: 100%;
      overflow: hidden;
      white-space: nowrap;
      box-sizing: border-box;
      display: flex;
      align-items: center;
    }

    .marquee {
      display: flex;
      align-items: center;
      animation: marquee 15s linear infinite;
      font-size: 18px;
      color: #ffffff;
      padding-left: 100%;
    }

    @keyframes marquee {
      0% { transform: translateX(0); }
      10% { transform: translateX(-50px); }
      90% { transform: translateX(calc(-100% + 50px)); }
      100% { transform: translateX(-100%); }
    }

    .custom-span {
      display: inline-block;
      font-size: 18px;
      line-height: 30px;
      margin: 1px 20px 5px 17px;
      padding: 0;
      vertical-align: middle;
    }

    /* ÌÖåÏù¥Î∏î */
    table {
      border-collapse: collapse;
      border: 1px solid #eedca6;
      width: 100%;
      max-width: 700px;
      table-layout: fixed;
    }

    #memberTableBody tr:first-child td {
      padding-top: 20px;   /* ‚Üê tbody ÏÉÅÌïòÏ°∞Ï†à */
    }


    thead {
      position: sticky;
      top: calc(3.9rem + 30px);
      z-index: 998;
      background: linear-gradient(to right, #232526, #414345);
    }

    thead th {
      background: linear-gradient(to right, #232526, #414345);
      position: sticky;
      top: calc(3.9rem + 30px);
      z-index: 998;
    }

    th {
      font-size: 0.9em;
      color: #c49c19d0;
    }

    th, td {
      border: 1px solid #eedca6 !important;
      text-align: center;
    }

    .no { width: 1.56rem; }
    .name { width: 4.8rem; font-size: 1.2em; }
    .tel { width: 9.2rem; font-size: 1.2em; }
    .address { width: 3.75rem; }
    .remark { width: 3.75rem; }
    .sms { width: 3.75rem; font-size: 1.1em; }

    .no_1 { font-size: 0.8em; color: #ffffff; }
    .name_1 { font-size: 1.1em; color: #ffffff; }
    .tel_1 { font-size: 1.1em; color: #ffffff; }
    .address_1 { font-size: 0.8em; color: #ffffff; padding: 6px 0; }
    .remark_1 { font-size: 0.8em; color: #ffffff; padding: 6px 0; }
    .sms_1 { padding: 0.37rem 0; }

    .max-small {
      width: 1.31rem;
      height: 1.31rem;
    }

    a {
      text-decoration: none;
      color: #ffffff;
    }

    tfoot td {
      border: none;
    }

    .foot {
      color: antiquewhite;
      font-size: 0.8em;
      text-align: center;
      padding: 1px;
    }

    .gototop {
      position: fixed;
      right: 1.5rem;
      bottom: 0.5rem;
    }

    .gototop .fa {
      background-color: #fff;
      border: 1px solid lightgray;
      width: 1.1em;
      height: 1.1em;
      border-radius: 50%;
      cursor: pointer;
      transition: 0.5s;
    }

    .gototop .fa:hover {
      background-color: #838180;
      color: #ffffff;
    }

    tbody {
      display: table-row-group;
      overflow: visible !important;
    }

    tr {
      display: table-row;
    }

    .main-body {
      overflow: visible !important;
      padding-bottom: 2px;
    }

    /* Î∞òÏùëÌòï - ÌÉúÎ∏îÎ¶ø */
    @media (max-width: 670px) {
      .container, .header, .wrap2, table {
        max-width: 100%;
      }
      .content-wrapper {
        justify-content: flex-start;
      }
      .cube-container {
        left: 5px;
      }
      #Clockday, #Clock {
        font-size: 1.5rem;
      }
      .wrap1 {
        width: 21px;
        height: 21px;
        padding: 0 0 0 31px;
      }
      .cube {
        width: 25px;
        height: 25px;
        position: relative;
        top: 0;
        left: 0;
      }
      .marquee {
        font-size: 1.1em;
      }
      .wrap2 {
        max-width: 100%;
      }
      .custom-span {
        display: inline-block;
        font-size: 17px;
        line-height: 30px;
        margin: 1px 20px 5px 17px;
        padding: 0;
      }
      th {
        font-size: 0.9em;
        color: #c49c19d0;
      }
      .no { font-size: 0.9em; }
      .name { font-size: 1.0em; }
      .tel { font-size: 1.0em; }
      .address { font-size: 0.9em; }
      .remark { font-size: 0.9em; }
      .sms { font-size: 0.9em; }
      .no_1 { font-size: 0.8em; }
      .name_1 { font-size: 1.0em; }
      .tel_1 { font-size: 1.0em; }
      .address_1 { font-size: 0.8em; }
      .remark_1 { font-size: 0.9em; }
      .sms_1 { font-size: 0.9em; }
    }

    /* Î∞òÏùëÌòï - Î™®Î∞îÏùº */
    @media (max-width: 480px) {
      body {
        padding: 0;
        overflow-x: hidden;
      }
      .container, .header {
        max-width: 100%;
        width: 100vw;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      .wrap2 {
        overflow: visible;
        top: 2.99rem;
        padding: 5px 42px 0 60px;
      }
      .header {
        max-width: 100%;
        width: 100vw;
        left: 0;
        right: 0;
        margin: 0;
      }
      #Clockday, #Clock {
        font-size: 1.3rem;
      }
      .main-body {
        padding-top: calc(3rem + 30px);
      }
      .content-wrapper {
        width: 100%;
      }
      thead {
        top: calc(3.6rem + 30px);
      }
      .marquee {
        font-size: 0.9em;
      }
      .custom-span {
        font-size: 14px;
        margin: 0 10px;
        line-height: 30px;
      }
      table {
        table-layout: fixed;
      }
      .remark, .remark_1 {
        display: none;
      }

      .cube-container {
        position: absolute;
        top: 50%;
        left: 10px;
        transform: translateY(-50%);
        z-index: 1001;
      }


      .cube {
        width: 22px;
        height: 22px;
        position: relative;
        top: 0;
        left: 0;
        transition: transform 0.5s ease-in-out;
      }
      .cube img {
        width: 22px;
        height: 22px;
        position: absolute;
        top: 3px;
        left: -39px;
      }

      .cube img:nth-child(1) { transform: translateZ(11px); }
      .cube img:nth-child(2) { transform: rotateX(90deg) translateZ(11px); }
      .cube img:nth-child(3) { transform: rotateX(180deg) translateZ(11px); }
      .cube img:nth-child(4) { transform: rotateX(270deg) translateZ(11px); }
      th, td {
        padding: 0.6rem 0;
        vertical-align: middle;
      }
      td {
        min-height: 2.5rem;
      }
      th {
        font-size: 0.7em;
        color: #c49c19d0;
      }
      .no { width: 6%; font-size: 0.7em; }
      .name { width: 26%; font-size: 1.2em; }
      .tel { width: 39%; font-size: 1.2em; }
      .address { width: 17%; font-size: 0.9em; }
      .remark { width: 0; font-size: 0; }
      .sms { width: 12%; font-size: 0.9em; }
      .no_1 { font-size: 0.6em; }
      .name_1 { font-size: 1.1em; }
      .tel_1 { font-size: 1.1em; }
      .address_1 { font-size: 0.8em; }
      .remark_1 { font-size: 0; }
      .sms_1 { font-size: 0.9em; padding: 0.6rem 0; }
      .max-small {
        width: 1rem;
        height: 1rem;
      }
      .foot {
        padding: 7px;
      }
      .gototop {
        right: 2.4rem;
        bottom: 0.5rem;
      }

      /* ÌïòÎã® Î≥ëÌï© ÌÖåÏù¥Î∏î ÌÖåÎëêÎ¶¨ Ï†úÍ±∞ */
      tfoot tr,
      tfoot td {
        border: none !important;
      }

      .tfoot-cell {
        padding: 0;
      }

  </style>

  <!-- =====================
       ÏùºÎ∞ò JS (Firebase Ï†úÍ±∞)
       ===================== -->
  <script type="text/javascript">
    document.oncontextmenu = function () {
      return false;
    };

    window.onload = () => {
      // ÌÅêÎ∏å ÌöåÏ†Ñ
      let deg = 0;
      const cube = document.querySelector('.cube');
      if (cube) {
        setInterval(() => {
          deg -= 90;
          cube.style.transform = `rotateX(${deg}deg)`;
        }, 1000);
      }

      // ÏãúÍ∞Ñ ÌëúÏãú
      let lastTimeString = '';
      function updateClock() {
        const date = new Date();
        const YYYY = String(date.getFullYear());
        const MM = String(date.getMonth() + 1).padStart(2, '0');
        const DD = String(date.getDate()).padStart(2, '0');
        const hh = String(date.getHours()).padStart(2, '0');
        const mm = String(date.getMinutes()).padStart(2, '0');
        const week = ['Ïùº', 'Ïõî', 'Ìôî', 'Ïàò', 'Î™©', 'Í∏à', 'ÌÜ†'][date.getDay()];

        const currentTimeString = `${YYYY}/${MM}/${DD}(${week}) ${hh}:${mm}`;
        if (currentTimeString !== lastTimeString) {
          document.getElementById('Clockday').innerText = `${YYYY}/${MM}/${DD}(${week})`;
          document.getElementById('Clock').innerText = `${hh}:${mm}`;
          lastTimeString = currentTimeString;
        }
      }

      setInterval(updateClock, 1000);
      updateClock();

      // Î°úÎî© ÌôîÎ©¥
      setTimeout(() => {
        document.getElementById('loading-screen').style.opacity = '0';
        setTimeout(() => {
          document.getElementById('loading-screen').style.display = 'none';
          document.getElementById('main-content').style.display = 'block';
        }, 500);
      }, 600);
    };

    function sendSMS(event, numbers) {
      return true;
    }
  </script>



  <!-- =====================
       Firebase Ï†ÑÏö© MODULE
       ===================== -->

  <script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAF7AD1d54k21-stmb0Hpg9OMEECvzFHpQ",
  authDomain: "terraone-d0318.firebaseapp.com",
  databaseURL: "https://terraone-d0318-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "terraone-d0318",
  storageBucket: "terraone-d0318.appspot.com",
  messagingSenderId: "1082807340877",
  appId: "1:1082807340877:web:6e2b49c04562d800e87104"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const tbody = document.getElementById('memberTableBody');
const membersRef = ref(db, 'terraone/tel');

onValue(membersRef, (snapshot) => {
  tbody.innerHTML = '';
  let members = [];

  snapshot.forEach(child => {
    members.push(child.val());
  });

  // ‚úÖ Ïù¥Î¶Ñ Í∞ÄÎÇòÎã§Ïàú Ï†ïÎ†¨
  members.sort((a, b) => (a.name || '').localeCompare(b.name || '','ko'));

  let idx = 0;

  members.forEach(member => {
    idx++;

    const isLeader =
      typeof member.remark === 'string' &&
      (member.remark.includes('ÌöåÏû•') || member.remark.includes('Ï¥ùÎ¨¥'));

    let addressHTML = member.addr || '';

    // ‚úÖ ÌöåÏû•/Ï¥ùÎ¨¥Îßå ÎßÅÌÅ¨ ÏÉùÏÑ±
    if (isLeader && member.sms_2 && addressHTML) {

      let numbers = [];

      if (Array.isArray(member.sms_2)) {
        numbers = member.sms_2;
      } else if (typeof member.sms_2 === 'string') {
        numbers = member.sms_2.split(',');
      } else if (typeof member.sms_2 === 'object') {
        numbers = Object.values(member.sms_2);
      }

      numbers = numbers
        .map(n => String(n).trim())
        .filter(n => n && n !== member.tel);

      if (numbers.length > 0) {
        const listParam = encodeURIComponent(numbers.join(','));
        const fromParam = encodeURIComponent(member.tel);

        // üî• sms: ‚ùå ‚Üí tel_sms_send.html ‚≠ï
        addressHTML = `
          <a href="tel_sms_send.html?from=${fromParam}&list=${listParam}">
            ${addressHTML}
          </a>
        `;
      }
    }

    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td class="no_1">${idx}</td>
      <td class="name_1"><a href="tel:${member.tel}">${member.name}</a></td>
      <td class="tel_1"><a href="tel:${member.tel}">${member.tel}</a></td>
      <td class="address_1">${addressHTML}</td>
      <td class="remark_1">${member.remark || '&nbsp;'}</td>
      <td class="sms_1">
        <a href="sms:${member.tel}">
          <img class="max-small" src="image/sms-4.png">
        </a>
      </td>
    `;
    tbody.appendChild(tr);
  });

});   // ‚úÖ ‚òÖ Ïù¥ Ï§ÑÏù¥ ÏóÜÏñ¥ÏÑú ÏóêÎü¨ ÎÇú Í≤ÅÎãàÎã§

</script>

</head>

<body>
  <!-- Ï¥àÍ∏∞ Î°úÎî© ÌôîÎ©¥ -->
  <div id="loading-screen">
    <img src="image/jikji35-1.jpg" alt="ÏßÅÏßÄÌô©ÏïÖÌöå" />
  </div>

  <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† -->
  <div id="main-content">
    <div class="container">
      <!-- Ìó§Îçî (ÏãúÍ≥Ñ) -->
      <div class="header">
        <div id="Clockday">00:00</div>
        <div id="Clock">00/00/00</div>
      </div>

      <div class="main-body">
        <div class="content-wrapper">
          <div class="wrap2">
            <!-- ÌöåÏ†Ñ ÌÅêÎ∏å -->
            <div class="cube-container">
              <div class="wrap1">
                <div class="cube">
                  <img src="image/email.png" alt="Ïù¥Î©îÏùº" />
                  <img src="image/phone.png" alt="Ìè∞" />
                  <img src="image/jikji.png" alt="ÏßÅÏßÄÏ¥à" />
                  <img src="image/sms.png" alt="Î¨∏Ïûê" />
                </div>
              </div>
            </div>
            <!-- Ï†ÑÍ¥ëÌåê -->
            <div class="marquee-container">
              <div class="marquee">
                <img src="image/aa.gif" width="25px" height="25px" border="0" alt="image" />
                <img src="image/dd.gif" width="25px" height="25px" border="0" alt="image" />
                <span class="custom-span">ÏßÅÏßÄÏ¥à35Ìöå ÍπÄÏ≤úÏßÄÎ∂Ä ÎèôÍ∏∞Ïó∞ÎùΩÎßù</span>
                <img src="image/dd.gif" width="25px" height="25px" border="0" alt="image" />
                <img src="image/aa.gif" width="25px" height="25px" border="0" alt="image" />
              </div>
            </div>
          </div>
        </div>

        <!-- Ïó∞ÎùΩÏ≤ò ÌÖåÏù¥Î∏î -->
        <table>
          <thead>
            <tr>
              <th class="no"><span>NO</span></th>
              <th class="name"><span>Ïù¥Î¶Ñ</span></th>
              <th class="tel"><span>Ï†ÑÌôîÎ≤àÌò∏</span></th>
              <th class="address"><span>Í±∞Ï£ºÏßÄ</span></th>
              <th class="remark"><span>ÎπÑÍ≥†</span></th>
              <th class="sms"><span>SMS</span></th>
            </tr>
          </thead>

          <tbody id="memberTableBody">
            <!-- FirebaseÏóêÏÑú Îç∞Ïù¥ÌÑ∞Í∞Ä ÎèôÏ†ÅÏúºÎ°ú ÏÇΩÏûÖÎê©ÎãàÎã§ -->
          </tbody>

          <tfoot>
            <tr class="tfoot-row">
              <td colspan="6" class="tfoot-cell">

                <div class="gototop">
                  <a href="#"><img class="fa" src="image/arrow.png" /></a>
                </div>

                <div class="foot">
                  <img src="image/anicircle03_green.gif" />&nbsp;&nbsp;
                  <span class="jik">
                    <a href="./book/index.html" target="_blank">
                      https://jikji35.github.io/terra-1/
                    </a>
                  </span>&nbsp;
                  <img src="image/anicircle03_green.gif" />
                </div>

              </td>
            </tr>
          </tfoot>

        </table>
      </div>
    </div>
  </div>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const goTop = document.querySelector('.gototop a');

    if (goTop) {
      goTop.addEventListener('click', (e) => {
        e.preventDefault();

        const start = window.scrollY;
        const duration = 1500; // 1.5Ï¥à
        const startTime = performance.now();

        function scrollStep(currentTime) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);

          // easeOutCubic
          const ease = 1 - Math.pow(1 - progress, 3);

          window.scrollTo(0, start * (1 - ease));

          if (progress < 1) {
            requestAnimationFrame(scrollStep);
          }
        }

        requestAnimationFrame(scrollStep);
      });
    }
  });
  </script>


  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

